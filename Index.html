<!DOCTYPE html>
<html>
<body>
<h1>Hello World</h1>
<p>I'm hosted with GitHub Pages.</p>
</body>
</html>
<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c11{background-color:#f8f8f8;color:#414141;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Arial";font-style:normal}.c15{background-color:#f8f8f8;color:#414141;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c10{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c8{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Arial";font-style:normal}.c6{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c12{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none;font-size:9pt}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c14{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c9{background-color:#ffffff;font-family:"Trebuchet MS";font-weight:400}.c7{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c3{background-color:#ffffff;font-family:"Courier New";font-weight:400}.c5{color:inherit;text-decoration:inherit}.c4{background-color:#ffff00}.c2{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c7"><p class="c0"><span class="c6">Create and upload &lsquo;boot.py&rsquo; to ESP32</span></p><p class="c0 c2"><span class="c6"></span></p><p class="c0"><span class="c1">Board i am using - </span></p><p class="c0"><span class="c14"><a class="c5" href="https://www.google.com/url?q=https://hobbytronics.pk/wp-content/uploads/ESP-32-Dev-Board-Pinout.jpg&amp;sa=D&amp;ust=1561604418536000">https://hobbytronics.pk/wp-content/uploads/ESP-32-Dev-Board-Pinout.jpg</a></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Use this command to see if dev board is connected to USB - </span></p><p class="c0"><span>$ </span><span class="c1 c4">tail -f /var/log/syslog</span></p><p class="c0"><span class="c1">Looking for something like this - </span></p><p class="c0"><span class="c1">Feb 18 15:28:25 ross-TravelMate-5335 kernel: [82664.710149] cp210x 5-2:1.0: cp210x converter detected</span></p><p class="c0"><span>Feb 18 15:28:25 ross-TravelMate-5335 kernel: [82664.710294] usb 5-2: </span><span class="c1 c4">cp210x converter now attached to ttyUSB0</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Use this command to run an REPL from terminal rather than using putty:</span></p><p class="c0"><span class="c1 c4">screen /dev/ttyUSB0 115200</span></p><p class="c0"><span class="c1">If you get the tripple chevron &lsquo;&gt;&gt;&gt;&rsquo; then you are connected to python via the ESP32, if it hangs, you may be using the wrong speed. </span></p><p class="c0"><span class="c9">To end the session in screen, press </span><span class="c3">Ctrl</span><span class="c9">+</span><span class="c3">a</span><span class="c9">, type &lsquo;</span><span class="c3">:quit&rsquo;</span><span class="c9">&nbsp;and press </span><span class="c3">Enter</span><span class="c13 c9">.</span></p><p class="c0 c2"><span class="c9 c13"></span></p><p class="c0"><span class="c10">Following this tutorial - </span></p><p class="c0"><span class="c12"><a class="c5" href="https://www.google.com/url?q=https://hackernoon.com/get-on-the-good-foot-with-micropython-on-the-esp32-decdd32c4720&amp;sa=D&amp;ust=1561604418539000">https://hackernoon.com/get-on-the-good-foot-with-micropython-on-the-esp32-decdd32c4720</a></span></p><p class="c0 c2"><span class="c6"></span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span>ross@ross-TravelMate-5335 ~ $ </span><span class="c1 c4">ampy -p /dev/ttyUSB0 ls </span></p><p class="c0"><span class="c1">/boot.py</span></p><p class="c0"><span>ross@ross-TravelMate-5335 ~ $ </span><span class="c1 c4">ampy -p /dev/ttyUSB0 put /home/ross/Downloads/ESP32/boot.py</span></p><p class="c0"><span>ross@ross-TravelMate-5335 ~ $ </span><span class="c1 c4">ampy -p /dev/ttyUSB0 get boot.py</span></p><p class="c0"><span class="c1">def connect():</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; import network</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; sta_if = network.WLAN(network.STA_IF)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; if not sta_if.isconnected():</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; print(&#39;connecting to network...&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; sta_if.active(True)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; sta_if.connect(&#39;TPG-RIKL&#39;, &#39;pnmope69&#39;)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; while not sta_if.isconnected():</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pass</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; print(&#39;network config:&#39;, sta_if.ifconfig())</span></p><p class="c0"><span class="c1">def no_debug():</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; import esp</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; # this can be run from the REPL as well</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; esp.osdebug(None)</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">no_debug()</span></p><p class="c0"><span class="c1">connect()</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Note - i found the &lsquo;get&rsquo; command in ampy to sometimes work and sometimes not. Keep trying. You must be disconnected from putty or any other terminal prog before connecting or sending ampy commands. The return of the &lsquo;get&rsquo; command shows the &lsquo;boot.py&rsquo; file i uploaded to the esp32. Note my wifi SSID and PWD has been added. </span></p><p class="c0"><span class="c1">AMPY - &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lsquo;put&rsquo; puts file to esp32</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lsquo;Get&rsquo; gets contents of boot.py file from esp32</span></p><p class="c0"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lsquo;ls&rsquo; lists files on esp32</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">Log into esp via putty and run &lsquo;connect()&rsquo; and you should see that you are connected to wifi.</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&gt;&gt;&gt; connect()<br>network config: (&#39;192.168.1.6&#39;, &#39;255.255.255.0&#39;, &#39;192.168.1.1&#39;, &#39;192.168.1.1&#39;)</span></p><p class="c0 c2"><span class="c11"></span></p><p class="c0 c2"><span class="c11"></span></p><p class="c0"><span class="c15">Connecting a DHT11 to an ESP32</span></p><p class="c0 c2"><span class="c11"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 350.67px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 350.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c11">Note - i used a DHT11 not a DHT22</span></p><p class="c0 c2"><span class="c11"></span></p><p class="c0"><span class="c11">This is the code i used to get the temp and humidity working&hellip;.previously i was getting an error as i believe i had it wired to the wrong pins and i also needed to use -</span></p><p class="c0"><span class="c11">&lsquo;sensor = DHT11(Pin(15,Pin.IN,Pin.PULL_UP))&rsquo;</span></p><p class="c0"><span class="c11">To use a pull up resistor on the board. Also - you need to use &lsquo;sensor.measure()&rsquo; before each reading for it to change or else it will repeat the last reading.</span></p><p class="c0 c2"><span class="c11"></span></p><p class="c0"><span class="c11">Code - </span></p><p class="c0"><span class="c11"><br>from machine import Pin</span></p><p class="c0"><span class="c11">from dht import DHT11</span></p><p class="c0"><span class="c11">sensor = DHT11(Pin(15, Pin.IN, Pin.PULL_UP))<br>sensor.measure()<br>sensor.temperature()<br>26<br>&gt;&gt;&gt; sensor.humidity()<br>54<br><br></span></p><p class="c0 c2"><span class="c1"></span></p></body></html>
